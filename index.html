<!DOCTYPE html>
<html>
  <head>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="public/css/skeleton.css">
    <link rel="stylesheet" href="public/css/base.css">
    <link rel="stylesheet" href="public/css/layout.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>

  <div class="container">
    <div class="row">
      <div class="header five columns offset-by-five">
        <h2>
          Mini
        </h2>
        <button id="more">More Tweets</button>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="tweets five columns offset-by-five">
      </div>
    </div>
  </div>
    <script>

      $(document).ready(function(){
        var $tweets = $('.tweets');
        $tweets.html('');

        var index = 0;
        var pullTweets = function() {
          var currentTop = streams.home.length - 1;
          while(index <= currentTop){
            var tweet = streams.home[index];
            var $tweet = $('<div></div>');
            var date = new Date( tweet.created_at );
            $tweet.text('@' + tweet.user + ': ' + tweet.message + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds() );
            $tweet.prependTo($tweets);
            index += 1;
          }
        };

        var $button = $('#more');
        $button.on('click', function() {
          pullTweets();
        });

        pullTweets();
      });

    </script>
  </body>
</html>
